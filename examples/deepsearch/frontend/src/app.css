@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

@layer components {
    .chat-container {
        @apply min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col;
    }

    .chat-wrapper {
        @apply flex-1 mx-auto w-full max-w-4xl p-4;
    }

    .chat-title {
        @apply mb-8 text-center text-4xl font-bold text-gray-900 dark:text-white;
    }

    .chat-box {
        @apply bg-white dark:bg-gray-800 rounded-lg shadow-lg dark:shadow-gray-900/50 flex flex-col h-[calc(100vh-8rem)];
    }

    .messages-area {
        @apply flex-1 p-4 overflow-y-auto space-y-4;
    }

    .message-bubble {
        @apply max-w-[70%] rounded-lg p-3 transition-colors duration-200;
    }

    .message-bubble-user {
        @apply bg-blue-600 text-white dark:bg-blue-500;
    }

    .message-bubble-assistant {
        @apply bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-white;
    }

    .message-text {
        @apply text-sm;
    }

    .message-timestamp {
        @apply text-xs mt-1 opacity-70 dark:opacity-50;
    }

    .input-area {
        @apply border-t border-gray-100 dark:border-gray-700 p-4;
    }

    .input-field {
        @apply flex-1 rounded-md border-0 px-4 py-3 
               text-gray-900 dark:text-white
               bg-white dark:bg-gray-700
               ring-1 ring-gray-200 dark:ring-gray-600
               focus:ring-2 focus:ring-blue-500
               placeholder:text-gray-400 dark:placeholder:text-gray-500
               disabled:bg-gray-50 dark:disabled:bg-gray-800
               disabled:text-gray-500 dark:disabled:text-gray-400;
    }

    .send-button {
        @apply rounded-md px-6 py-3 font-medium text-white 
               focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
               dark:focus:ring-offset-gray-800
               transition-colors duration-200;
    }

    .send-button-enabled {
        @apply bg-blue-600 hover:bg-blue-700 
               dark:bg-blue-500 dark:hover:bg-blue-600;
    }

    .send-button-disabled {
        @apply bg-blue-400 dark:bg-blue-400 cursor-not-allowed;
    }

    .message-bubble-thinking {
        @apply bg-gray-50 text-gray-900 dark:bg-gray-700 dark:text-white;
    }

    .thinking {
        @apply animate-pulse;
    }

    .prose {
        @apply text-gray-900 dark:text-white transition-colors duration-200;
    }

    .prose strong {
        @apply font-semibold text-gray-900 dark:text-white;
    }

    .prose em {
        @apply text-gray-800 dark:text-gray-200;
    }

    .prose :where(p):not(:where([class~="not-prose"] *)) {
        @apply my-1 text-gray-900 dark:text-white;
    }

    .prose :where(code):not(:where([class~="not-prose"] *)) {
        @apply bg-gray-100 dark:bg-gray-700 
               text-gray-900 dark:text-white
               px-1.5 py-0.5 rounded text-sm;
    }

    .prose :where(pre):not(:where([class~="not-prose"] *)) {
        @apply bg-gray-800 text-gray-100 
               dark:bg-black dark:text-white
               p-3 rounded-md my-2 overflow-x-auto;
    }

    .error-message {
        @apply mb-2 text-sm text-red-600 dark:text-red-400;
    }

    .connection-status {
        @apply p-2 text-center mb-4 rounded-md text-sm font-medium transition-colors duration-200;
    }
    
    .connection-status.disconnected {
        @apply bg-red-50 dark:bg-red-900/20
               text-red-600 dark:text-red-400;
    }
    
    .connection-status.reconnecting {
        @apply bg-yellow-50 dark:bg-yellow-900/20
               text-yellow-600 dark:text-yellow-400;
    }
    
    .connection-status.failed {
        @apply bg-red-50 dark:bg-red-900/20
               text-red-600 dark:text-red-400
               font-semibold;
    }
}